<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Relação entre gramáticas livres de contexto e PEGs</title>
<meta name="author" content="Rodrigo Ribeiro"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/dist/reveal.css"/>

<link rel="stylesheet" href="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/dist/theme/white.css" id="theme"/>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide">
<h1>Relação entre gramáticas livres de contexto e PEGs</h1><h2>PCC102 - Teoria da computação</h2><h3> Rodrigo Ribeiro</h3>
</section>

<section>
<section id="slide-org8423806">
<h2 id="org8423806">Objetivos</h2>
<ul>
<li>Apresentar uma semântica operacional para gramáticas livres de contexto.</li>

<li>Apresentar a relação entre gramáticas LL(1) e PEGs.</li>

</ul>

</section>
</section>
<section>
<section id="slide-org7c81e90">
<h2 id="org7c81e90">Gramáticas e PEGs</h2>
<ul>
<li>Qual a relação entre gramáticas livres de contexto e PEGs?</li>

</ul>

</section>
</section>
<section>
<section id="slide-org1892f64">
<h2 id="org1892f64">Gramáticas e PEGs</h2>
<ul>
<li>No artigo original de PEGs, Ford mostra que PEGs podem reconhecer todas das gramáticas
livres de contexto determinísticas.</li>

<li>Porém, a equivalência se restringe a isso?</li>

</ul>

</section>
</section>
<section>
<section id="slide-org043a0e3">
<h2 id="org043a0e3">Gramáticas e PEGs</h2>
<ul>
<li>Não! Mascarenhas et.al. mostra a relação de certas classes de linguagens livres de contexto
e PEGs.</li>

<li>Consequência: Podemos usar algoritmos para PEGs para reconhecimento de linguagens livres de
contexto.</li>

</ul>

</section>
</section>
<section>
<section id="slide-org5372c0a">
<h2 id="org5372c0a">Gramáticas e PEGs</h2>
<ul>
<li>Para evidenciar essas similaridades, os autores usaram uma semântica operacional para gramáticas
livres de contexto.</li>

</ul>

</section>
</section>
<section>
<section id="slide-org4ab40ac">
<h2 id="org4ab40ac">Semântica de Gramáticas</h2>
<ul>
<li>Para definir essa semântica, os autores utilizam a sintaxe de parsing expressions para
a construção de produções em uma gramática livre de contexto.</li>

</ul>

</section>
</section>
<section>
<section id="slide-org7bbf70d">
<h2 id="org7bbf70d">Semântica de Gramáticas</h2>
<ul>
<li>Além disso, os autores consideram que uma gramática é uma tupla \((V,\Sigma,R,p_{s})\), em que:
<ul>
<li>\(R\) é uma função entre não terminais e expressões.</li>
<li>\(p_{s}\) é a expressão inicial da gramática.</li>

</ul></li>

</ul>

</section>
</section>
<section>
<section id="slide-org36495fd">
<h2 id="org36495fd">Semântica de Gramáticas</h2>
<ul>
<li>A semântica de gramáticas é definida pela relação \(G[p]\,s\leadsto s'\), em que \(G\)
é a gramática, \(p\) uma expressão definindo uma produção, \(s\) a string de entrada e
\(s'\) o sufixo da entrada não consumido.</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgc631a59">
<h2 id="orgc631a59">Semântica de Gramáticas</h2>
<ul>
<li><p>
Semântica para \(\lambda\)
</p>

<div>
\begin{array}{c}
  \dfrac{}{G[\lambda]\,s\leadsto s}
\end{array}

</div></li>

</ul>


</section>
</section>
<section>
<section id="slide-org781a388">
<h2 id="org781a388">Semântica de Gramáticas</h2>
<ul>
<li><p>
Semântica para \(a\in\Sigma\)
</p>

<div>
\begin{array}{c}
  \dfrac{}{G[a]\,as\leadsto s}
\end{array}

</div></li>

</ul>


</section>
</section>
<section>
<section id="slide-org77f31da">
<h2 id="org77f31da">Semântica de Gramáticas</h2>
<ul>
<li>Semântica para \(A\in V\)</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[R(A)]ss'\leadsto s'}{G[A]\,ss'\leadsto s'}
\end{array}

</div>

</section>
</section>
<section>
<section id="slide-orgcc1eb5c">
<h2 id="orgcc1eb5c">Semântica de Gramáticas</h2>
<ul>
<li>Semântica para concatenação</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p]ss's''\leadsto s's''\:\:\:G[p']s's''\leadsto s''}{G[p\,p']\leadsto s''}
\end{array}

</div>

</section>
</section>
<section>
<section id="slide-org03bd655">
<h2 id="org03bd655">Semântica de Gramáticas</h2>
<ul>
<li>Semântica para escolha</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p]ss'\leadsto s'}{G[p\,|\,p']\leadsto s'}
\end{array}

</div>


</section>
</section>
<section>
<section id="slide-org4916970">
<h2 id="org4916970">Semântica de Gramáticas</h2>
<ul>
<li>Semântica para escolha</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p']ss'\leadsto s'}{G[p\,|\,p']\leadsto s'}
\end{array}

</div>

</section>
</section>
<section>
<section id="slide-org3046e44">
<h2 id="org3046e44">Semântica de Gramáticas</h2>
<ul>
<li>Teorema: Se \(G[p']ss'\leadsto s'\) então para todo \(s''\) temos que \(G[p']ss''\leadsto s''\).</li>

<li>Prova: Indução na derivação de \(G[p']ss'\leadsto s'\).</li>

</ul>

</section>
</section>
<section>
<section id="slide-org6f7cfb6">
<h2 id="org6f7cfb6">Semântica de Gramáticas</h2>
<ul>
<li>A semântica apresentada é muito similar à semântica para PEGs.</li>

<li>Diferenças principais:
<ul>
<li>Escolha não determinística explícita na sintaxe de expressões.</li>
<li>Ausência do operador de negação.</li>

</ul></li>

</ul>

</section>
</section>
<section>
<section id="slide-org4b83493">
<h2 id="org4b83493">Semântica de Gramáticas</h2>
<ul>
<li>Seria possível adaptar a semântica de PEGs para gramáticas?</li>

<li>Quais mudanças seriam necessárias?</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgce415d3">
<h2 id="orgce415d3">Semântica de Gramáticas</h2>
<ul>
<li>Quais mudanças seriam necessárias?
<ul>
<li>Regras para escolha ordenada.</li>
<li>Falhas explícitas</li>

</ul></li>

</ul>


</section>
</section>
<section>
<section id="slide-org31d2272">
<h2 id="org31d2272">Semântica de PEG para Gramáticas</h2>
<ul>
<li><p>
Semântica para \(\lambda\)
</p>

<div>
\begin{array}{c}
  \dfrac{}{G[\lambda]\,s\leadsto_{PEG} s}
\end{array}

</div></li>

</ul>


</section>
</section>
<section>
<section id="slide-org3115565">
<h2 id="org3115565">Semântica de PEG para Gramáticas</h2>
<ul>
<li><p>
Semântica para \(a\in\Sigma\)
</p>

<div>
\begin{array}{c}
  \dfrac{}{G[a]\,as\leadsto_{PEG} s}
\end{array}

</div></li>

</ul>


</section>
</section>
<section>
<section id="slide-org3d39b8a">
<h2 id="org3d39b8a">Semântica de PEG para Gramáticas</h2>
<ul>
<li><p>
Semântica para \(a\in\Sigma\)
</p>

<div>
\begin{array}{c}
  \dfrac{a\neq b}{G[a]\,bs\leadsto_{PEG} \bot}
\end{array}

</div></li>

</ul>


</section>
</section>
<section>
<section id="slide-org8d326f6">
<h2 id="org8d326f6">Semântica de PEG para Gramáticas</h2>
<ul>
<li><p>
Semântica para \(a\in\Sigma\)
</p>

<div>
\begin{array}{c}
  \dfrac{}{G[a]\,\lambda\leadsto_{PEG} \bot}
\end{array}

</div></li>

</ul>


</section>
</section>
<section>
<section id="slide-org0905310">
<h2 id="org0905310">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Semântica para \(A\in V\)</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[R(A)]ss'\leadsto_{PEG} X}{G[A]\,ss'\leadsto_{PEG} X}
\end{array}

</div>


</section>
</section>
<section>
<section id="slide-org81dfb60">
<h2 id="org81dfb60">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Semântica para concatenação</li>

</ul>

<div>
\begin{array}{c}
 \dfrac{G[p]ss's''\leadsto_{PEG} s's''\:\:\:G[p']s's''\leadsto_{PEG} s''}{G[p\,p']\leadsto_{PEG} s''}
\end{array}

</div>


</section>
</section>
<section>
<section id="slide-org761b70a">
<h2 id="org761b70a">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Semântica para concatenação</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p]s\leadsto_{PEG} \bot}{G[p\,p']\leadsto_{PEG} \bot}
\end{array}

</div>


</section>
</section>
<section>
<section id="slide-org501e50a">
<h2 id="org501e50a">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Semântica para concatenação</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p]ss's''\leadsto_{PEG} s'\:\:\:G[p']s'\leadsto_{PEG} \bot}{G[p\,p']\leadsto_{PEG} \bot}
\end{array}

</div>


</section>
</section>
<section>
<section id="slide-orge272c71">
<h2 id="orge272c71">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Semântica para escolha</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p]ss'\leadsto_{PEG} s'}{G[p\,|\,p']\leadsto_{PEG} s'}
\end{array}

</div>


</section>
</section>
<section>
<section id="slide-org664eed1">
<h2 id="org664eed1">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Semântica para escolha</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p]ss'\leadsto_{PEG} \bot \:\:\: G[p']ss'\leadsto_{PEG} X}{G[p\,|\,p']\leadsto_{PEG} X}
\end{array}

</div>

</section>
</section>
<section>
<section id="slide-orgd7e58dc">
<h2 id="orgd7e58dc">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Teorema: Se \(G[p]ss'\leadsto_{PEG} s'\) então \(G[p]ss' \leadsto s'\).</li>

<li>Prova: Por indução sobre a derivação de \(G[p]ss'\leadsto_{PEG} s'\).</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgde21d32">
<h2 id="orgde21d32">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Teorema: Se \(G[p]s\leadsto_{PEG} X\) e \(G[p]s \leadsto_{PEG} X'\) então \(X = X'\).</li>

<li>Prova: Por indução sobre a derivação de \(G[p]s\leadsto_{PEG} X\).</li>

</ul>

</section>
</section>
<section>
<section id="slide-org36935d9">
<h2 id="org36935d9">Gramáticas LL(1) e PEGs</h2>
<ul>
<li>Uma gramática sem expressões \(\lambda\) é LL(1) se, e somente se, os
conjuntos \(first\) de cada um de seus não terminais \(A_i\) são disjuntos.</li>

</ul>

<div>
\begin{array}{c}
  first^{G}(p) = \{a \in \Sigma\,|\,G[p] axy \leadsto y\}
\end{array}

</div>

</section>
</section>
<section>
<section id="slide-orgadc3cf2">
<h2 id="orgadc3cf2">Gramáticas LL(1) e PEGs</h2>
<ul>
<li>Uma gramática é LL(1) se todo operador de escolha \(p_1\,|\,p_2\) é tal que
\(first^G(p_1)\cap first^G(p_2) = \emptyset\).</li>

<li>Gramáticas com essa propriedade podem ser interpretadas como PEGs preservando
a linguagem reconhecida.</li>

</ul>

</section>
</section>
<section>
<section id="slide-org38f9cda">
<h2 id="org38f9cda">Gramáticas LL(1) e PEGs</h2>
<ul>
<li>Para gramáticas que possuem expressões \(\lambda\), algumas propriedades adicionais
fazem-se necessárias.</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgf4068d6">
<h2 id="orgf4068d6">Gramáticas LL(1) e PEGs</h2>
<ul>
<li>Estrutura BNF: Uma gramática \((V,\Sigma,R,p_{S})\) possui estrutura BNF se:
<ul>
<li>Não ocorrem escolhas como sub-expressões de uma concatenação.</li>
<li>\(p_{S}\) é um não terminal da gramática.</li>
<li>Para toda escolha \(p_1\,|\,p_2\) se \(p_1\) aceita a string vazia então \(p_2\)
também deve aceitar.</li>

</ul></li>

</ul>

</section>
</section>
<section>
<section id="slide-org6d1b24b">
<h2 id="org6d1b24b">Gramáticas LL(1) e PEGs</h2>
<ul>
<li><p>
Atualizando a definição de \(first\):
</p>

<div>
\begin{array}{lcl}
   first^{G}(p) & = & \{a \in \Sigma \,|\, G[p] axy \leadsto y\} \cup nullable(p)\\
   nullable(p)  & = & \{\lambda\}\:\:\text{, se } G[p]s\leadsto s\\
   nullable(p)  & = & \emptyset\:\:\text{, caso contrário}\\
\end{array}

</div></li>

</ul>

</section>
</section>
<section>
<section id="slide-org5a874a9">
<h2 id="org5a874a9">Gramáticas LL(1) e PEGs</h2>
<ul>
<li><p>
Como a gramática possui expressões que podem não consumir nenhum símbolo da entrada,
devemos considerar o conjunto \(follow\):
</p>

<div>
\begin{array}{lcl}
  follow^{G}(A) & = & \{a \in\Sigma\cup\{\$\}\,|\, G[A]yaz\leadsto az\text{ em }
        G[A]\,w\$\leadsto\$\}
\end{array}

</div></li>

</ul>

</section>
</section>
<section>
<section id="slide-orgdddd217">
<h2 id="orgdddd217">Gramáticas LL(1) e PEGs</h2>
<ul>
<li>Gramáticas que possuem expressões que não consomem nenhum símbolo da entrada são LL(1) se
para toda produção \(A \to p\) e toda escolha \(p_1\,|\,p_2\) de \(p\):
<ul>
<li>\(first^{G}(p_1)\cap first^{G}(p_2) = \emptyset\)</li>
<li>Se \(\lambda \in first^{G}(p_2)\) então \(first^{G}(p_1) \cap follow^{G}(p_2) = \emptyset\)</li>

</ul></li>

</ul>

</section>
</section>
<section>
<section id="slide-org8a6f3cd">
<h2 id="org8a6f3cd">Gramáticas LL(1) e PEGs</h2>
<ul>
<li>Logo, gramáticas que atendem as condições anteriores podem ser intepretadas como PEGs e,
portanto, executadas usando intepretadores para tal formalismo.</li>

</ul>

</section>
</section>
<section>
<section id="slide-org2d1c466">
<h2 id="org2d1c466">Gramáticas e PEGs</h2>
<ul>
<li>Outras classes de gramáticas possuem equivalências com PEGs: strong LL(k), right-linear e
LL-regular.</li>

</ul>

</section>
</section>
<section>
<section id="slide-orge4ce2d2">
<h2 id="orge4ce2d2">Exercícios</h2>
<ul>
<li>Apresente uma prova detalhada do seguinte teorema.</li>

<li>Se \(G[p]ss'\leadsto_{PEG} s'\) então \(G[p]ss' \leadsto s'\).</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgf10608f">
<h2 id="orgf10608f">Referências</h2>
<ul>
<li>Mascarenhas, Fábio; Medeiros, Sérgio; Ierusalimschy, Roberto.
On the relation between context-free grammars and parsing expression grammars.
Science of computer programming.</li>

</ul>
</section>
</section>
</div>
</div>
<script src="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/dist/reveal.js"></script>
<script src="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/plugin/markdown/markdown.js"></script>
<script src="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/plugin/notes/notes.js"></script>
<script src="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/plugin/search/search.js"></script>
<script src="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/plugin/zoom/zoom.js"></script>
<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: true,
center: true,
slideNumber: 'c',
rollingLinks: true,
keyboard: true,
mouseWheel: false,
fragmentInURL: false,
hashOneBasedIndex: false,
pdfSeparateFragments: true,

overview: true,
width: 1200,
height: 800,
margin: 0.20,
minScale: 0.50,
maxScale: 2.50,

transition: 'none',
transitionSpeed: 'default',

// Plugins with reveal.js 4.x
plugins: [ RevealMarkdown, RevealNotes, RevealSearch, RevealZoom ],

// Optional libraries used to extend reveal.js
dependencies: [
]

});
</script>
</body>
</html>
