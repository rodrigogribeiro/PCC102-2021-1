<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Relação entre gramáticas livres de contexto e PEGs</title>
<meta name="author" content="Rodrigo Ribeiro"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/dist/reveal.css"/>

<link rel="stylesheet" href="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/dist/theme/white.css" id="theme"/>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide">
<h1>Relação entre gramáticas livres de contexto e PEGs</h1><h2>PCC102 - Teoria da computação</h2><h3> Rodrigo Ribeiro</h3>
</section>

<section>
<section id="slide-orgbbdc48d">
<h2 id="orgbbdc48d">Objetivos</h2>
<ul>
<li>Apresentar uma semântica operacional para gramáticas livres de contexto.</li>

<li>Apresentar a relação entre gramáticas LL(1) e PEGs.</li>

</ul>

</section>
</section>
<section>
<section id="slide-org56c80a0">
<h2 id="org56c80a0">Gramáticas e PEGs</h2>
<ul>
<li>Qual a relação entre gramáticas livres de contexto e PEGs?</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgf527d44">
<h2 id="orgf527d44">Gramáticas e PEGs</h2>
<ul>
<li>No artigo original de PEGs, Ford mostra que PEGs podem reconhecer todas das gramáticas
livres de contexto determinísticas.</li>

<li>Porém, a equivalência se restringe a isso?</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgf977966">
<h2 id="orgf977966">Gramáticas e PEGs</h2>
<ul>
<li>Não! Mascarenhas et.al. mostra a relação de certas classes de linguagens livres de contexto
e PEGs.</li>

<li>Para evidenciar essas similaridades, os autores usaram uma semântica operacional para gramáticas
livres de contexto.</li>

</ul>

</section>
</section>
<section>
<section id="slide-org9596c52">
<h2 id="org9596c52">Semântica de Gramáticas</h2>
<ul>
<li>Para definir essa semântica, os autores utilizam a sintaxe de parsing expressions para
a construção de produções em uma gramática livre de contexto.</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgf56bc11">
<h2 id="orgf56bc11">Semântica de Gramáticas</h2>
<ul>
<li>Além disso, os autores consideram que uma gramática é uma tupla \((V,\Sigma,R,p_{s})\), em que:
<ul>
<li>\(R\) é uma função entre não terminais e expressões.</li>
<li>\(p_{s}\) é a expressão inicial da gramática.</li>

</ul></li>

</ul>

</section>
</section>
<section>
<section id="slide-orgfb1af6a">
<h2 id="orgfb1af6a">Semântica de Gramáticas</h2>
<ul>
<li>A semântica de gramáticas é definida pela relação \(G[p]\,s\leadsto s'\), em que \(G\)
é a gramática, \(p\) uma expressão definindo uma produção, \(s\) a string de entrada e
\(s'\) o sufixo da entrada não consumido.</li>

</ul>

</section>
</section>
<section>
<section id="slide-org08acfc4">
<h2 id="org08acfc4">Semântica de Gramáticas</h2>
<ul>
<li><p>
Semântica para \(\lambda\)
</p>

<div>
\begin{array}{c}
  \dfrac{}{G[\lambda]\,s\leadsto s}
\end{array}

</div></li>

</ul>


</section>
</section>
<section>
<section id="slide-orgdbdbd77">
<h2 id="orgdbdbd77">Semântica de Gramáticas</h2>
<ul>
<li><p>
Semântica para \(a\in\Sigma\)
</p>

<div>
\begin{array}{c}
  \dfrac{}{G[a]\,as\leadsto s}
\end{array}

</div></li>

</ul>


</section>
</section>
<section>
<section id="slide-org63cb1e0">
<h2 id="org63cb1e0">Semântica de Gramáticas</h2>
<ul>
<li>Semântica para \(A\in V\)</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[R(A)]ss'\leadsto s'}{G[A]\,ss'\leadsto s'}
\end{array}

</div>

</section>
</section>
<section>
<section id="slide-orgf44d2b0">
<h2 id="orgf44d2b0">Semântica de Gramáticas</h2>
<ul>
<li>Semântica para concatenação</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p]ss's''\leadsto s's''\:\:\:G[p']s's''\leadsto s''}{G[p\,p']\leadsto s''}
\end{array}

</div>

</section>
</section>
<section>
<section id="slide-orgbeff3b2">
<h2 id="orgbeff3b2">Semântica de Gramáticas</h2>
<ul>
<li>Semântica para escolha</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p]ss'\leadsto s'}{G[p\,|\,p']\leadsto s'}
\end{array}

</div>


</section>
</section>
<section>
<section id="slide-org254c2e7">
<h2 id="org254c2e7">Semântica de Gramáticas</h2>
<ul>
<li>Semântica para escolha</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p']ss'\leadsto s'}{G[p\,|\,p']\leadsto s'}
\end{array}

</div>

</section>
</section>
<section>
<section id="slide-org5c1e741">
<h2 id="org5c1e741">Semântica de Gramáticas</h2>
<ul>
<li>Teorema: Se \(G[p']ss'\leadsto s'\) então para todo \(s''\) temos que \(G[p']ss''\leadsto s''\).</li>

<li>Prova: Indução na derivação de \(G[p']ss'\leadsto s'\).</li>

</ul>

</section>
</section>
<section>
<section id="slide-org8f7b359">
<h2 id="org8f7b359">Semântica de Gramáticas</h2>
<ul>
<li>A semântica apresentada é muito similar à semântica para PEGs.</li>

<li>Diferenças principais:
<ul>
<li>Escolha não determinística explícita na sintaxe de expressões.</li>
<li>Ausência do operador de negação.</li>

</ul></li>

</ul>

</section>
</section>
<section>
<section id="slide-org9bee943">
<h2 id="org9bee943">Semântica de Gramáticas</h2>
<ul>
<li>Seria possível adaptar a semântica de PEGs para gramáticas?</li>

<li>Quais mudanças seriam necessárias?</li>

</ul>

</section>
</section>
<section>
<section id="slide-org4dc6a87">
<h2 id="org4dc6a87">Semântica de Gramáticas</h2>
<ul>
<li>Quais mudanças seriam necessárias?
<ul>
<li>Regras para escolha ordenada.</li>
<li>Falhas explícitas</li>

</ul></li>

</ul>


</section>
</section>
<section>
<section id="slide-org96cc1f0">
<h2 id="org96cc1f0">Semântica de PEG para Gramáticas</h2>
<ul>
<li><p>
Semântica para \(\lambda\)
</p>

<div>
\begin{array}{c}
  \dfrac{}{G[\lambda]\,s\leadsto_{PEG} s}
\end{array}

</div></li>

</ul>


</section>
</section>
<section>
<section id="slide-orgbd7a10f">
<h2 id="orgbd7a10f">Semântica de PEG para Gramáticas</h2>
<ul>
<li><p>
Semântica para \(a\in\Sigma\)
</p>

<div>
\begin{array}{c}
  \dfrac{}{G[a]\,as\leadsto_{PEG} s}
\end{array}

</div></li>

</ul>


</section>
</section>
<section>
<section id="slide-org4cad971">
<h2 id="org4cad971">Semântica de PEG para Gramáticas</h2>
<ul>
<li><p>
Semântica para \(a\in\Sigma\)
</p>

<div>
\begin{array}{c}
  \dfrac{a\neq b}{G[a]\,bs\leadsto_{PEG} \bot}
\end{array}

</div></li>

</ul>


</section>
</section>
<section>
<section id="slide-orgc671f7d">
<h2 id="orgc671f7d">Semântica de PEG para Gramáticas</h2>
<ul>
<li><p>
Semântica para \(a\in\Sigma\)
</p>

<div>
\begin{array}{c}
  \dfrac{}{G[a]\,\lambda\leadsto_{PEG} \bot}
\end{array}

</div></li>

</ul>


</section>
</section>
<section>
<section id="slide-orgae59f95">
<h2 id="orgae59f95">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Semântica para \(A\in V\)</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[R(A)]ss'\leadsto_{PEG} X}{G[A]\,ss'\leadsto_{PEG} X}
\end{array}

</div>


</section>
</section>
<section>
<section id="slide-orgc8ab547">
<h2 id="orgc8ab547">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Semântica para concatenação</li>

</ul>

<div>
\begin{array}{c}
 \dfrac{G[p]ss's''\leadsto_{PEG} s's''\:\:\:G[p']s's''\leadsto_{PEG} s''}{G[p\,p']\leadsto_{PEG} s''}
\end{array}

</div>


</section>
</section>
<section>
<section id="slide-org081e575">
<h2 id="org081e575">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Semântica para concatenação</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p]s\leadsto_{PEG} \bot}{G[p\,p']\leadsto_{PEG} \bot}
\end{array}

</div>


</section>
</section>
<section>
<section id="slide-org5396c7a">
<h2 id="org5396c7a">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Semântica para concatenação</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p]ss's''\leadsto_{PEG} s'\:\:\:G[p']s'\leadsto_{PEG} \bot}{G[p\,p']\leadsto_{PEG} \bot}
\end{array}

</div>


</section>
</section>
<section>
<section id="slide-org44dc455">
<h2 id="org44dc455">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Semântica para escolha</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p]ss'\leadsto_{PEG} s'}{G[p\,|\,p']\leadsto_{PEG} s'}
\end{array}

</div>


</section>
</section>
<section>
<section id="slide-org1047116">
<h2 id="org1047116">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Semântica para escolha</li>

</ul>

<div>
\begin{array}{c}
   \dfrac{G[p]ss'\leadsto_{PEG} \bot \:\:\: G[p']ss'\leadsto_{PEG} X}{G[p\,|\,p']\leadsto_{PEG} X}
\end{array}

</div>

</section>
</section>
<section>
<section id="slide-org49655f7">
<h2 id="org49655f7">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Teorema: Se \(G[p]ss'\leadsto_{PEG} s'\) então \(G[p]ss' \leadsto s'\).</li>

<li>Prova: Por indução sobre a derivação de \(G[p]ss'\leadsto_{PEG} s'\).</li>

</ul>

</section>
</section>
<section>
<section id="slide-org95b113b">
<h2 id="org95b113b">Semântica de PEG para Gramáticas</h2>
<ul>
<li>Teorema: Se \(G[p]s\leadsto_{PEG} X\) e \(G[p]s \leadsto_{PEG} X'\) então \(X = X'\).</li>

<li>Prova: Por indução sobre a derivação de \(G[p]s\leadsto_{PEG} X\).</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgd963b31">
<h2 id="orgd963b31">Gramáticas LL(1) e PEGs</h2>
<ul>
<li>Uma gramática sem expressões \(\lambda\) é LL(1) se, e somente se, os
conjuntos \(first\) de cada um de seus não terminais \(A_i\) são disjuntos.</li>

</ul>

<div>
\begin{array}{c}
  first^{G}(p) = \{a \in \Sigma\,|\,G[p] axy \leadsto y\}
\end{array}

</div>

</section>
</section>
<section>
<section id="slide-orgc59c4ea">
<h2 id="orgc59c4ea">Gramáticas LL(1) e PEGs</h2>
<ul>
<li>Uma gramática é LL(1) se todo operador de escolha \(p_1\,|\,p_2\) é tal que
\(first^G(p_1)\cap first^G(p_2) = \emptyset\).</li>

<li>Gramáticas com essa propriedade podem ser interpretadas como PEGs preservando
a linguagem reconhecida.</li>

</ul>

</section>
</section>
<section>
<section id="slide-org32009f6">
<h2 id="org32009f6">Gramáticas LL(1) e PEGs</h2>
<ul>
<li>Para gramáticas que possuem expressões \(\lambda\), algumas propriedades adicionais
fazem-se necessárias.</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgb2718fb">
<h2 id="orgb2718fb">Gramáticas LL(1) e PEGs</h2>
<ul>
<li>Estrutura BNF: Uma gramática \((V,\Sigma,R,p_{S})\) possui estrutura BNF se:
<ul>
<li>Não ocorrem escolhas como sub-expressões de uma concatenação.</li>
<li>\(p_{S}\) é um não terminal da gramática.</li>
<li>Para toda escolha \(p_1\,|\,p_2\) se \(p_1\) aceita a string vazia então \(p_2\)
também deve aceitar.</li>

</ul></li>

</ul>

</section>
</section>
<section>
<section id="slide-org926e5fc">
<h2 id="org926e5fc">Gramáticas LL(1) e PEGs</h2>
<ul>
<li><p>
Atualizando a definição de \(first\):
</p>

<div>
\begin{array}{lcl}
   first^{G}(p) & = & \{a \in \Sigma \,|\, G[p] axy \leadsto y\} \cup nullable(p)\\
   nullable(p)  & = & \{\lambda\}\:\:\text{, se } G[p]s\leadsto s\\
   nullable(p)  & = & \emptyset\:\:\text{, caso contrário}\\
\end{array}

</div></li>

</ul>

</section>
</section>
<section>
<section id="slide-org80e539e">
<h2 id="org80e539e">Gramáticas LL(1) e PEGs</h2>
<ul>
<li><p>
Como a gramática possui expressões que podem não consumir nenhum símbolo da entrada,
devemos considerar o conjunto \(follow\):
</p>

<div>
\begin{array}{lcl}
  follow^{G}(A) & = & \{a \in\Sigma\cup\{\$\}\,|\, G[A]yaz\leadsto az\text{ em uma prova de }
        G[A]\,w\$\leadsto\$\}
\end{array}

</div></li>

</ul>

</section>
</section>
<section>
<section id="slide-orgabfaea6">
<h2 id="orgabfaea6">Gramáticas LL(1) e PEGs</h2>
<ul>
<li>Gramáticas que possuem expressões que não consomem nenhum símbolo da entrada são LL(1) se
para toda produção \(A \to p\) e toda escolha \(p_1\,|\,p_2\) de \(p\):
<ul>
<li>\(first^{G}(p_1)\cap first^{G}(p_2) = \emptyset\)</li>
<li>Se \(\lambda \in first^{G}(p_2)\) então \(first^{G}(p_1) \cap follow^{G}(p_2) = \emptyset\)</li>

</ul></li>

</ul>

</section>
</section>
<section>
<section id="slide-org92707ac">
<h2 id="org92707ac">Gramáticas LL(1) e PEGs</h2>
<ul>
<li>Logo, gramáticas que atendem as condições anteriores podem ser intepretadas como PEGs e,
portanto, executadas usando intepretadores para tal formalismo.</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgaa49302">
<h2 id="orgaa49302">Gramáticas e PEGs</h2>
<ul>
<li>Outras classes de gramáticas possuem equivalências com PEGs: strong LL(k), right-linear e
LL-regular.</li>

</ul>

</section>
</section>
<section>
<section id="slide-orge3f7c01">
<h2 id="orge3f7c01">Exercícios</h2>
<ul>
<li>Apresente uma prova detalhada do seguinte teorema.</li>

<li>Se \(G[p]ss'\leadsto_{PEG} s'\) então \(G[p]ss' \leadsto s'\).</li>

</ul>

</section>
</section>
<section>
<section id="slide-org68370bd">
<h2 id="org68370bd">Referências</h2>
<ul>
<li>Mascarenhas, Fábio; Medeiros, Sérgio; Ierusalimschy, Roberto.
On the relation between context-free grammars and parsing expression grammars.
Science of computer programming.</li>

</ul>
</section>
</section>
</div>
</div>
<script src="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/dist/reveal.js"></script>
<script src="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/plugin/markdown/markdown.js"></script>
<script src="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/plugin/notes/notes.js"></script>
<script src="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/plugin/search/search.js"></script>
<script src="/Users/rodrigo/.emacs.d/.local/straight/build-27.2/revealjs/plugin/zoom/zoom.js"></script>
<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: true,
center: true,
slideNumber: 'c',
rollingLinks: true,
keyboard: true,
mouseWheel: false,
fragmentInURL: false,
hashOneBasedIndex: false,
pdfSeparateFragments: true,

overview: true,
width: 1200,
height: 800,
margin: 0.20,
minScale: 0.50,
maxScale: 2.50,

transition: 'none',
transitionSpeed: 'default',

// Plugins with reveal.js 4.x
plugins: [ RevealMarkdown, RevealNotes, RevealSearch, RevealZoom ],

// Optional libraries used to extend reveal.js
dependencies: [
]

});
</script>
</body>
</html>
